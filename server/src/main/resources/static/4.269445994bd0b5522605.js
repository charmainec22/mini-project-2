(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"76PZ":function(t,e,a){"use strict";a.r(e),a.d(e,"MaterialComponentsModule",function(){return Ze});var o=a("tyNb"),r=a("tk/3"),n=a("ofXK"),i=a("f6nW"),c=a("3Pt+"),s=a("YUcS"),l=a("0IaG"),d=a("+0xr"),b=a("5+ba"),m=a("fXoL"),u=a("AytR");let p=(()=>{class t{constructor(t){this.httpClient=t,this.url=u.a.apiUrl}add(t){return this.httpClient.post(this.url+"/category/add",t,{headers:(new r.e).set("Content-Type","application/json")})}update(t){return this.httpClient.post(this.url+"/category/update",t,{headers:(new r.e).set("Content-Type","application/json")})}getCategory(){return this.httpClient.get(this.url+"/category/get")}getFilteredCategorys(){return this.httpClient.get(this.url+"/category/get?filterValue=true")}}return t.\u0275fac=function(e){return new(e||t)(m.Yb(r.b))},t.\u0275prov=m.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var h=a("p20J"),g=a("/t3+"),f=a("XiUz"),v=a("bTqV"),T=a("NFeN"),U=a("kmnG"),y=a("qFsG");function D(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is mandatory."),m.Tb())}function A(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.zc(1,D,2,0,"span",10),m.Tb()),2&t){const t=m.gc();m.Db(1),m.lc("ngIf",t.categoryForm.controls.name.errors.required)}}let C=(()=>{class t{constructor(t,e,a,o,r){this.dialogData=t,this.formBuilder=e,this.categoryService=a,this.dialogRef=o,this.snackBarService=r,this.onAddCategory=new m.o,this.onEditCategory=new m.o,this.categoryForm=c.f,this.dialogAction="Add",this.action="Add"}ngOnInit(){this.categoryForm=this.formBuilder.group({name:[null,[c.q.required]]}),"Edit"===this.dialogData.action&&(this.dialogAction="Edit",this.action="Update",this.categoryForm.patchValue(this.dialogData.data))}handleSubmit(){"Edit"===this.dialogAction?this.edit():this.add()}add(){this.categoryService.add({name:this.categoryForm.value.name}).subscribe(t=>{this.dialogRef.close(),this.onAddCategory.emit(),this.responseMessage=t.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.dialogRef.close(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}edit(){this.categoryService.update({id:this.dialogData.data.id,name:this.categoryForm.value.name}).subscribe(t=>{this.dialogRef.close(),this.onAddCategory.emit(),this.responseMessage=t.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.dialogRef.close(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(l.a),m.Ob(c.d),m.Ob(p),m.Ob(l.h),m.Ob(h.a))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-category"]],decls:26,vars:5,consts:[["color","primary"],["fxLayout","row"],[1,"spacer"],["mat-icon-button","","mat-dialog-close","",1,"mat-dialog-close"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","standard","fxFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["align","end"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","warn","mat-dialog-close",""]],template:function(t,e){1&t&&(m.Ub(0,"mat-toolbar",0),m.Ub(1,"mat-toolbar-row",1),m.Ub(2,"span"),m.Ac(3),m.Tb(),m.Pb(4,"span",2),m.Ub(5,"button",3),m.Ub(6,"mat-icon"),m.Ac(7,"close"),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(8,"mat-dialog-content",4),m.Ub(9,"form",5),m.Ub(10,"div",6),m.Ub(11,"div",7),m.Ub(12,"mat-form-field",8),m.Ub(13,"mat-label"),m.Ac(14,"Name"),m.Tb(),m.Pb(15,"input",9),m.zc(16,A,2,1,"mat-error",10),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(17,"mat-dialog-actions",11),m.Ub(18,"button",12),m.cc("click",function(){return e.handleSubmit()}),m.Ub(19,"mat-icon"),m.Ac(20,"save"),m.Tb(),m.Ac(21),m.Tb(),m.Ub(22,"button",13),m.Ub(23,"mat-icon"),m.Ac(24,"cancel"),m.Tb(),m.Ac(25,"Close"),m.Tb(),m.Tb()),2&t&&(m.Db(3),m.Cc("",e.dialogData.action," Category"),m.Db(6),m.lc("formGroup",e.categoryForm),m.Db(7),m.lc("ngIf",e.categoryForm.controls.name.touched&&e.categoryForm.controls.name.invalid),m.Db(2),m.lc("disabled",!(e.categoryForm.valid&&e.categoryForm.dirty)),m.Db(3),m.Cc(" ",e.action," "))},directives:[g.a,g.c,f.b,v.a,l.d,T.a,l.f,c.r,c.m,c.g,f.a,U.c,U.g,y.b,c.c,c.l,c.e,c.p,n.k,l.c,U.b],styles:[".mat-toolbar[_ngcontent-%COMP%]{margin:-24px -24px 10px;width:auto}"]}),t})();var S=a("Wp6s"),w=a("Qu3c");function k(t,e){1&t&&(m.Ub(0,"th",13),m.Ac(1,"Name"),m.Tb())}function O(t,e){if(1&t&&(m.Ub(0,"td",14),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.name)}}function R(t,e){1&t&&(m.Ub(0,"th",13),m.Ac(1,"Action"),m.Tb())}function F(t,e){if(1&t){const t=m.Vb();m.Ub(0,"td",15),m.Ub(1,"button",16),m.cc("click",function(){m.tc(t);const a=e.$implicit;return m.gc().handleEditAction(a)}),m.Ub(2,"mat-icon"),m.Ac(3,"edit"),m.Tb(),m.Tb(),m.Tb()}}function B(t,e){1&t&&m.Pb(0,"tr",17)}function M(t,e){1&t&&m.Pb(0,"tr",18)}let P=(()=>{class t{constructor(t,e,a,o){this.categoryService=t,this.dialog=e,this.snackbarService=a,this.router=o,this.displayedColumns=["name","edit"]}ngOnInit(){this.tableData()}tableData(){this.categoryService.getCategory().subscribe(t=>{console.log(t),this.dataSource=new d.k(t)},t=>{var e,a,o;console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(o=t.error)||void 0===o?void 0:o.message:b.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,b.a.error)})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}handleAddAction(){const t=new l.e;t.data={action:"Add"},t.width="850px";const e=this.dialog.open(C,t);this.router.events.subscribe(()=>{e.close()}),e.componentInstance.onAddCategory.subscribe(t=>{this.tableData()})}handleEditAction(t){const e=new l.e;e.data={action:"Edit",data:t},e.width="850px";const a=this.dialog.open(C,e);this.router.events.subscribe(()=>{a.close()}),a.componentInstance.onEditCategory.subscribe(t=>{this.tableData()})}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(p),m.Ob(l.b),m.Ob(h.a),m.Ob(o.c))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-manage-category"]],decls:26,vars:4,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","standard"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Ub(0,"mat-card"),m.Ub(1,"b"),m.Ub(2,"span"),m.Ac(3,"Manage Category"),m.Tb(),m.Tb(),m.Ub(4,"button",0),m.cc("click",function(){return e.handleAddAction()}),m.Ub(5,"mat-icon"),m.Ac(6,"add_circle"),m.Tb(),m.Ac(7," Add Category "),m.Tb(),m.Tb(),m.Pb(8,"hr"),m.Ub(9,"mat-card"),m.Ub(10,"mat-form-field",1),m.Ub(11,"mat-label"),m.Ac(12,"Filter"),m.Tb(),m.Ub(13,"input",2,3),m.cc("keyup",function(t){return e.applyFilter(t)}),m.Tb(),m.Tb(),m.Tb(),m.Pb(15,"hr"),m.Ub(16,"div",4),m.Ub(17,"table",5),m.Sb(18,6),m.zc(19,k,2,0,"th",7),m.zc(20,O,2,1,"td",8),m.Rb(),m.Sb(21,9),m.zc(22,R,2,0,"th",7),m.zc(23,F,4,0,"td",10),m.Rb(),m.zc(24,B,1,0,"tr",11),m.zc(25,M,1,0,"tr",12),m.Tb(),m.Tb()),2&t&&(m.Db(17),m.lc("dataSource",e.dataSource),m.Db(7),m.lc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),m.Db(1),m.lc("matRowDefColumns",e.displayedColumns))},directives:[S.a,v.a,T.a,U.c,U.g,y.b,d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,w.a,d.f,d.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}  .highlight{color:#fff;background:#673ab7}"]}),t})();var z=a("mReP");let I=(()=>{class t{constructor(t){this.httpClient=t,this.url=u.a.apiUrl}add(t){return this.httpClient.post(this.url+"/product/add",t,{headers:(new r.e).set("Content-Type","application/json")})}update(t){return this.httpClient.post(this.url+"/product/update",t,{headers:(new r.e).set("Content-Type","application/json")})}getProducts(){return this.httpClient.get(this.url+"/product/get")}updateStatus(t){return this.httpClient.post(this.url+"/product/updateStatus",t,{headers:(new r.e).set("Content-Type","application/json")})}delete(t){return this.httpClient.post(this.url+"/product/delete/"+t,{headers:(new r.e).set("Content-Type","application/json")})}getProductsByCategory(t){return this.httpClient.get(this.url+"/product/getByCategory/"+t)}getById(t){return this.httpClient.get(this.url+"/product/getById/"+t)}getRecipe(t){const e=(new r.f).set("query",t);return console.log("query name is: "+t),console.log("param is"+e),console.log("URL generated is: "+this.url+"/product/getRecipe?"+e),this.httpClient.get(this.url+"/product/getRecipe?"+e)}getRecipeByCuisine(t){const e=(new r.f).set("cuisine",t);return console.log("cuisine name is: "+t),console.log("param is"+e),console.log("URL generated is: "+this.url+"/product/getRecipeByCuisine?"+e),this.httpClient.get(this.url+"/product/getRecipeByCuisine?"+e)}}return t.\u0275fac=function(e){return new(e||t)(m.Yb(r.b))},t.\u0275prov=m.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var q=a("d3UM"),x=a("FKr1");function E(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is mandatory."),m.Tb())}function N(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is invalid."),m.Tb())}function _(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.zc(1,E,2,0,"span",10),m.zc(2,N,2,0,"span",10),m.Tb()),2&t){const t=m.gc();m.Db(1),m.lc("ngIf",t.productForm.controls.name.errors.required),m.Db(1),m.lc("ngIf",t.productForm.controls.name.errors.pattern)}}function $(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is mandatory."),m.Tb())}function H(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is invalid."),m.Tb())}function j(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.zc(1,$,2,0,"span",10),m.zc(2,H,2,0,"span",10),m.Tb()),2&t){const t=m.gc();m.Db(1),m.lc("ngIf",t.productForm.controls.price.errors.required),m.Db(1),m.lc("ngIf",t.productForm.controls.price.errors.pattern)}}function L(t,e){if(1&t&&(m.Ub(0,"mat-option",18),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.lc("value",t.id),m.Db(1),m.Cc(" ",t.name," ")}}function V(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is mandatory."),m.Tb())}function G(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is invalid."),m.Tb())}function J(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.zc(1,V,2,0,"span",10),m.zc(2,G,2,0,"span",10),m.Tb()),2&t){const t=m.gc();m.Db(1),m.lc("ngIf",t.productForm.controls.description.errors.required),m.Db(1),m.lc("ngIf",t.productForm.controls.description.errors.pattern)}}let K=(()=>{class t{constructor(t,e,a,o,r,n){this.dialogData=t,this.formBuilder=e,this.productService=a,this.categoryService=o,this.dialogRef=r,this.snackBarService=n,this.onAddProduct=new m.o,this.onEditProduct=new m.o,this.productForm=c.f,this.dialogAction="Add",this.action="Add",this.categorys=[]}ngOnInit(){this.productForm=this.formBuilder.group({name:[null,[c.q.required,c.q.pattern(b.a.nameRegex)]],categoryId:[null,[c.q.required]],price:[null,[c.q.required]],description:[null,[c.q.required]]}),"Edit"===this.dialogData.action&&(this.dialogAction="Edit",this.action="Update",this.productForm.patchValue(this.dialogData.data)),this.getCategorys()}getCategorys(){this.categoryService.getCategory().subscribe(t=>{this.categorys=t},t=>{var e,a,o;console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(o=t.error)||void 0===o?void 0:o.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}handleSubmit(){"Edit"===this.dialogAction?this.edit():this.add()}edit(){var t=this.productForm.value;this.productService.update({id:this.dialogData.data.id,name:t.name,categoryId:t.categoryId,price:t.price,description:t.description}).subscribe(t=>{this.dialogRef.close(),this.onEditProduct.emit(),this.responseMessage=t.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.dialogRef.close(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}add(){var t=this.productForm.value;this.productService.add({name:t.name,categoryId:t.categoryId,price:t.price,description:t.description}).subscribe(t=>{this.dialogRef.close(),this.onAddProduct.emit(),this.responseMessage=t.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;this.dialogRef.close(),console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(l.a),m.Ob(c.d),m.Ob(I),m.Ob(p),m.Ob(l.h),m.Ob(h.a))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-product"]],decls:43,vars:8,consts:[["color","primary"],["fxLayout","row"],[1,"spacer"],["mat-icon-button","","mat-dialog-close","",1,"mat-dialog-close"],[1,"mat-typography"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","standard","fxFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","price","required",""],["formControlName","categoryId"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","description","required",""],["align","end"],["mat-raised-button","","color","primary","type","submit",3,"disabled","click"],["mat-raised-button","","color","warn","mat-dialog-close",""],[3,"value"]],template:function(t,e){1&t&&(m.Ub(0,"mat-toolbar",0),m.Ub(1,"mat-toolbar-row",1),m.Ub(2,"span"),m.Ac(3),m.Tb(),m.Pb(4,"span",2),m.Ub(5,"button",3),m.Ub(6,"mat-icon"),m.Ac(7,"close"),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(8,"mat-dialog-content",4),m.Ub(9,"form",5),m.Ub(10,"div",6),m.Ub(11,"div",7),m.Ub(12,"mat-form-field",8),m.Ub(13,"mat-label"),m.Ac(14,"Name"),m.Tb(),m.Pb(15,"input",9),m.zc(16,_,3,2,"mat-error",10),m.Tb(),m.Tb(),m.Ub(17,"div",7),m.Ub(18,"mat-form-field",8),m.Ub(19,"mat-label"),m.Ac(20,"Price"),m.Tb(),m.Pb(21,"input",11),m.zc(22,j,3,2,"mat-error",10),m.Tb(),m.Ub(23,"mat-form-field",8),m.Ub(24,"mat-label"),m.Ac(25,"Category"),m.Tb(),m.Ub(26,"mat-select",12),m.zc(27,L,2,2,"mat-option",13),m.Tb(),m.Tb(),m.Tb(),m.Ub(28,"div",7),m.Ub(29,"mat-form-field",8),m.Ub(30,"mat-label"),m.Ac(31,"Description"),m.Tb(),m.Pb(32,"input",14),m.zc(33,J,3,2,"mat-error",10),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(34,"mat-dialog-actions",15),m.Ub(35,"button",16),m.cc("click",function(){return e.handleSubmit()}),m.Ub(36,"mat-icon"),m.Ac(37,"save"),m.Tb(),m.Ac(38),m.Tb(),m.Ub(39,"button",17),m.Ub(40,"mat-icon"),m.Ac(41,"cancel"),m.Tb(),m.Ac(42,"Close"),m.Tb(),m.Tb()),2&t&&(m.Db(3),m.Cc("",e.dialogData.action," Product"),m.Db(6),m.lc("formGroup",e.productForm),m.Db(7),m.lc("ngIf",e.productForm.controls.name.touched&&e.productForm.controls.name.invalid),m.Db(6),m.lc("ngIf",e.productForm.controls.price.touched&&e.productForm.controls.price.invalid),m.Db(5),m.lc("ngForOf",e.categorys),m.Db(6),m.lc("ngIf",e.productForm.controls.description.touched&&e.productForm.controls.description.invalid),m.Db(2),m.lc("disabled",!(e.productForm.valid&&e.productForm.dirty)),m.Db(3),m.Cc(" ",e.action," "))},directives:[g.a,g.c,f.b,v.a,l.d,T.a,l.f,c.r,c.m,c.g,f.a,U.c,U.g,y.b,c.c,c.l,c.e,c.p,n.k,q.a,n.j,l.c,U.b,x.m],styles:[".mat-toolbar[_ngcontent-%COMP%]{margin:-24px -24px 10px;width:auto}mat-form-field[_ngcontent-%COMP%]{padding:5px}"]}),t})();var Q=a("TAl4"),X=a("1jcm");function Y(t,e){1&t&&(m.Ub(0,"th",16),m.Ac(1,"Name"),m.Tb())}function W(t,e){if(1&t&&(m.Ub(0,"td",17),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.name)}}function Z(t,e){1&t&&(m.Ub(0,"th",16),m.Ac(1,"Category"),m.Tb())}function tt(t,e){if(1&t&&(m.Ub(0,"td",17),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.categoryName)}}function et(t,e){1&t&&(m.Ub(0,"th",16),m.Ac(1,"Description"),m.Tb())}function at(t,e){if(1&t&&(m.Ub(0,"td",17),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.description)}}function ot(t,e){1&t&&(m.Ub(0,"th",16),m.Ac(1,"Price"),m.Tb())}function rt(t,e){if(1&t&&(m.Ub(0,"td",17),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.price)}}function nt(t,e){1&t&&(m.Ub(0,"th",16),m.Ac(1,"Action"),m.Tb())}function it(t,e){if(1&t){const t=m.Vb();m.Ub(0,"td",18),m.Ub(1,"button",19),m.cc("click",function(){m.tc(t);const a=e.$implicit;return m.gc().handleEditAction(a)}),m.Ub(2,"mat-icon"),m.Ac(3,"edit"),m.Tb(),m.Tb(),m.Ub(4,"button",20),m.cc("click",function(){m.tc(t);const a=e.$implicit;return m.gc().handleDeleteAction(a)}),m.Ub(5,"mat-icon"),m.Ac(6,"delete"),m.Tb(),m.Tb(),m.Ub(7,"mat-slide-toggle",21),m.cc("change",function(a){m.tc(t);const o=e.$implicit;return m.gc().onChange(a.checked,o.id)}),m.Tb(),m.Tb()}if(2&t){const t=e.$implicit;m.Db(7),m.lc("checked",t.status)}}function ct(t,e){1&t&&m.Pb(0,"tr",22)}function st(t,e){1&t&&m.Pb(0,"tr",23)}let lt=(()=>{class t{constructor(t,e,a,o){this.productService=t,this.dialog=e,this.snackBarService=a,this.router=o,this.displayedColumn=["name","categoryName","description","price","edit"]}ngOnInit(){this.tableData()}tableData(){this.productService.getProducts().subscribe(t=>{this.dataSource=new d.k(t)},t=>{var e,a,o;console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(o=t.error)||void 0===o?void 0:o.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}handleAddAction(){const t=new l.e;t.data={action:"Add"},t.width="850px";const e=this.dialog.open(K,t);this.router.events.subscribe(()=>{e.close()}),e.componentInstance.onAddProduct.subscribe(t=>{this.tableData()})}handleEditAction(t){const e=new l.e;e.data={action:"Edit",data:t},e.width="850px";const a=this.dialog.open(K,e);this.router.events.subscribe(()=>{a.close()}),a.componentInstance.onEditProduct.subscribe(t=>{this.tableData()})}handleDeleteAction(t){const e=new l.e;e.data={message:"delete "+t.name+" product",confirmation:!0};const a=this.dialog.open(Q.a,e);a.componentInstance.onEmitStatusChange.subscribe(e=>{this.deleteProduct(t.id),a.close()})}deleteProduct(t){this.productService.delete(t).subscribe(t=>{this.tableData(),this.responseMessage=null==t?void 0:t.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}onChange(t,e){var a={status:t.toString(),id:e};this.productService.updateStatus(a).subscribe(t=>{this.responseMessage=null==t?void 0:t.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(I),m.Ob(l.b),m.Ob(h.a),m.Ob(o.c))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-manage-product"]],decls:35,vars:4,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"click"],["appearance","standard"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","categoryName"],["matColumnDef","description"],["matColumnDef","price"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["matTooltip","Activate or Deactivate Product",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Ub(0,"mat-card"),m.Ub(1,"b"),m.Ub(2,"span"),m.Ac(3,"Manage Product"),m.Tb(),m.Tb(),m.Ub(4,"button",0),m.cc("click",function(){return e.handleAddAction()}),m.Ub(5,"mat-icon"),m.Ac(6,"add_circle"),m.Tb(),m.Ac(7," Add Product "),m.Tb(),m.Tb(),m.Pb(8,"hr"),m.Ub(9,"mat-card"),m.Ub(10,"mat-form-field",1),m.Ub(11,"mat-label"),m.Ac(12,"Filter"),m.Tb(),m.Ub(13,"input",2,3),m.cc("keyup",function(t){return e.applyFilter(t)}),m.Tb(),m.Tb(),m.Tb(),m.Pb(15,"hr"),m.Ub(16,"div",4),m.Ub(17,"table",5),m.Sb(18,6),m.zc(19,Y,2,0,"th",7),m.zc(20,W,2,1,"td",8),m.Rb(),m.Sb(21,9),m.zc(22,Z,2,0,"th",7),m.zc(23,tt,2,1,"td",8),m.Rb(),m.Sb(24,10),m.zc(25,et,2,0,"th",7),m.zc(26,at,2,1,"td",8),m.Rb(),m.Sb(27,11),m.zc(28,ot,2,0,"th",7),m.zc(29,rt,2,1,"td",8),m.Rb(),m.Sb(30,12),m.zc(31,nt,2,0,"th",7),m.zc(32,it,8,1,"td",13),m.Rb(),m.zc(33,ct,1,0,"tr",14),m.zc(34,st,1,0,"tr",15),m.Tb(),m.Tb()),2&t&&(m.Db(17),m.lc("dataSource",e.dataSource),m.Db(16),m.lc("matHeaderRowDef",e.displayedColumn)("matHeaderRowDefSticky",!0),m.Db(1),m.lc("matRowDefColumns",e.displayedColumn))},directives:[S.a,v.a,T.a,U.c,U.g,y.b,d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,w.a,X.a,d.f,d.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),t})();var dt=a("Iab2");let bt=(()=>{class t{constructor(t){this.httpClient=t,this.url=u.a.apiUrl}generateReport(t){return this.httpClient.post(this.url+"/bill/generateReport",t,{headers:(new r.e).set("Content-Type","application/json")})}getPdf(t){return this.httpClient.post(this.url+"/bill/getPdf",t,{responseType:"blob"})}getBills(){return this.httpClient.get(this.url+"/bill/getBills")}delete(t){return this.httpClient.post(this.url+"/bill/delete/"+t,{headers:(new r.e).set("Content-Type","application/json")})}}return t.\u0275fac=function(e){return new(e||t)(m.Yb(r.b))},t.\u0275prov=m.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function mt(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is mandatory."),m.Tb())}function ut(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is invalid."),m.Tb())}function pt(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.zc(1,mt,2,0,"span",6),m.zc(2,ut,2,0,"span",6),m.Tb()),2&t){const t=m.gc();m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.name.errors.required),m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.name.errors.pattern)}}function ht(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is mandatory."),m.Tb())}function gt(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is invalid."),m.Tb())}function ft(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.zc(1,ht,2,0,"span",6),m.zc(2,gt,2,0,"span",6),m.Tb()),2&t){const t=m.gc();m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.email.errors.required),m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.email.errors.pattern)}}function vt(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is mandatory."),m.Tb())}function Tt(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is invalid."),m.Tb())}function Ut(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.zc(1,vt,2,0,"span",6),m.zc(2,Tt,2,0,"span",6),m.Tb()),2&t){const t=m.gc();m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.contactNumber.errors.required),m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.contactNumber.errors.pattern)}}function yt(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is mandatory."),m.Tb())}function Dt(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is invalid."),m.Tb())}function At(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.zc(1,yt,2,0,"span",6),m.zc(2,Dt,2,0,"span",6),m.Tb()),2&t){const t=m.gc();m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.paymentMethod.errors.required),m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.paymentMethod.errors.pattern)}}function Ct(t,e){if(1&t&&(m.Ub(0,"mat-option",35),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.lc("value",t),m.Db(1),m.Bc(t.name)}}function St(t,e){if(1&t&&(m.Ub(0,"mat-option",35),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.lc("value",t),m.Db(1),m.Bc(t.name)}}function wt(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is mandatory."),m.Tb())}function kt(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is invalid."),m.Tb())}function Ot(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.zc(1,wt,2,0,"span",6),m.zc(2,kt,2,0,"span",6),m.Tb()),2&t){const t=m.gc();m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.price.errors.required),m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.price.errors.pattern)}}function Rt(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is mandatory."),m.Tb())}function Ft(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is invalid."),m.Tb())}function Bt(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.zc(1,Rt,2,0,"span",6),m.zc(2,Ft,2,0,"span",6),m.Tb()),2&t){const t=m.gc();m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.quantity.errors.required),m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.quantity.errors.pattern)}}function Mt(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is mandatory."),m.Tb())}function Pt(t,e){1&t&&(m.Ub(0,"span"),m.Ac(1,"This field is invalid."),m.Tb())}function zt(t,e){if(1&t&&(m.Ub(0,"mat-error"),m.zc(1,Mt,2,0,"span",6),m.zc(2,Pt,2,0,"span",6),m.Tb()),2&t){const t=m.gc();m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.total.errors.required),m.Db(1),m.lc("ngIf",t.manageOrderForm.controls.total.errors.pattern)}}function It(t,e){1&t&&(m.Ub(0,"th",36),m.Ac(1,"Name"),m.Tb())}function qt(t,e){if(1&t&&(m.Ub(0,"td",37),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.name)}}function xt(t,e){1&t&&(m.Ub(0,"th",36),m.Ac(1,"Category"),m.Tb())}function Et(t,e){if(1&t&&(m.Ub(0,"td",37),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.category)}}function Nt(t,e){1&t&&(m.Ub(0,"th",36),m.Ac(1,"Price"),m.Tb())}function _t(t,e){if(1&t&&(m.Ub(0,"td",37),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.price)}}function $t(t,e){1&t&&(m.Ub(0,"th",36),m.Ac(1,"Quantity"),m.Tb())}function Ht(t,e){if(1&t&&(m.Ub(0,"td",37),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.quantity)}}function jt(t,e){1&t&&(m.Ub(0,"th",36),m.Ac(1,"Total"),m.Tb())}function Lt(t,e){if(1&t&&(m.Ub(0,"td",37),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.total)}}function Vt(t,e){1&t&&(m.Ub(0,"th",36),m.Ac(1,"Delete"),m.Tb())}function Gt(t,e){if(1&t){const t=m.Vb();m.Ub(0,"td",38),m.Ub(1,"button",39),m.cc("click",function(){m.tc(t);const a=e.index,o=e.$implicit;return m.gc().handleDeleteAction(a,o)}),m.Ub(2,"mat-icon"),m.Ac(3,"delete"),m.Tb(),m.Tb(),m.Tb()}}function Jt(t,e){1&t&&m.Pb(0,"tr",40)}function Kt(t,e){1&t&&m.Pb(0,"tr",41)}let Qt=(()=>{class t{constructor(t,e,a,o,r){this.productService=t,this.categoryService=e,this.formBuilder=a,this.billService=o,this.snackBarService=r,this.displayedColumns=["name","category","price","quantity","total","edit"],this.dataSource=[],this.manageOrderForm=c.f,this.categorys=[],this.products=[],this.totalAmount=0}ngOnInit(){this.getCategorys(),this.manageOrderForm=this.formBuilder.group({name:[null,[c.q.required,c.q.pattern(b.a.nameRegex)]],email:[null,[c.q.required,c.q.pattern(b.a.emailRegex)]],contactNumber:[null,[c.q.required,c.q.pattern(b.a.contactNumberRegex)]],paymentMethod:[null,[c.q.required]],product:[null,[c.q.required]],category:[null,[c.q.required]],quantity:[null,[c.q.required]],price:[null,[c.q.required]],total:[0,[c.q.required]]})}getCategorys(){this.categoryService.getFilteredCategorys().subscribe(t=>{this.categorys=t},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}getProductsByCategory(t){this.productService.getProductsByCategory(t.id).subscribe(t=>{this.products=t,this.manageOrderForm.controls.price.setValue(""),this.manageOrderForm.controls.quantity.setValue(""),this.manageOrderForm.controls.total.setValue(0)},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}getProductDetails(t){this.productService.getById(t.id).subscribe(t=>{this.price=t.price,this.manageOrderForm.controls.price.setValue(t.price),this.manageOrderForm.controls.quantity.setValue("1"),this.manageOrderForm.controls.total.setValue(1*this.price)},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}setQuantity(t){var e=this.manageOrderForm.controls.quantity.value;e>0?this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value):""!=e&&(this.manageOrderForm.controls.quantity.setValue("1"),this.manageOrderForm.controls.total.setValue(this.manageOrderForm.controls.quantity.value*this.manageOrderForm.controls.price.value))}validateProductAdd(){return 0===this.manageOrderForm.controls.total.value||null===this.manageOrderForm.controls.total.value||this.manageOrderForm.controls.quantity.value<=0}validateSubmit(){return 0===this.totalAmount||null===this.manageOrderForm.controls.name.value||null===this.manageOrderForm.controls.email.value||null===this.manageOrderForm.controls.contactNumber.value||null===this.manageOrderForm.controls.paymentMethod.value}add(){var t=this.manageOrderForm.value;void 0===this.dataSource.find(e=>e.id===t.product.id)?(this.totalAmount=this.totalAmount+t.total,this.dataSource.push({id:t.product.id,name:t.product.name,category:t.category.name,quantity:t.quantity,price:t.price,total:t.total}),this.dataSource=[...this.dataSource],this.snackBarService.openSnackBar(b.a.productAdded,"success")):this.snackBarService.openSnackBar(b.a.productExistError,b.a.error)}handleDeleteAction(t,e){this.totalAmount=this.totalAmount-e.total,this.dataSource.splice(t,1),this.dataSource=[...this.dataSource]}submitAction(){var t=this.manageOrderForm.value,e={name:t.name,email:t.email,contactNumber:t.contactNumber,paymentMethod:t.paymentMethod,totalAmount:this.totalAmount.toString(),productDetails:JSON.stringify(this.dataSource)};this.billService.generateReport(e).subscribe(t=>{this.downloadFile(null==t?void 0:t.uuid),this.manageOrderForm.reset(),this.dataSource=[],this.totalAmount=0},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}downloadFile(t){this.billService.getPdf({uuid:t}).subscribe(e=>{Object(dt.saveAs)(e,t+".pdf")})}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(I),m.Ob(p),m.Ob(c.d),m.Ob(bt),m.Ob(h.a))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-manage-order"]],decls:106,vars:18,consts:[["mat-flat-button","","color","primary",1,"float-right",3,"disabled","click"],[3,"formGroup"],["fxFlex","","fxLayout","column"],["fxLayout","row wrap"],["appearance","standard","fxFlex",""],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","contactNumber","required",""],["formControlName","paymentMethod","required",""],["value","Cash"],["value","Credit Card"],["value","Debit Card"],["formControlName","category",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","product",3,"selectionChange"],["matInput","","formControlName","price","required","","readonly",""],["matInput","","formControlName","quantity","required","",3,"keyup"],["input",""],["matInput","","formControlName","total","required","","readonly",""],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","","color","primary",1,"float-right"],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["matColumnDef","edit"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-flat-button","","color","primary","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Ub(0,"mat-card"),m.Ub(1,"b"),m.Ub(2,"span"),m.Ac(3,"Manage Order"),m.Tb(),m.Tb(),m.Ub(4,"button",0),m.cc("click",function(){return e.submitAction()}),m.Ub(5,"mat-icon"),m.Ac(6,"print"),m.Tb(),m.Ac(7," Submit & Get Bill "),m.Tb(),m.Tb(),m.Pb(8,"hr"),m.Ub(9,"mat-card"),m.Ub(10,"b"),m.Ub(11,"span"),m.Ac(12,"Customer Details:"),m.Tb(),m.Tb(),m.Ub(13,"form",1),m.Ub(14,"div",2),m.Ub(15,"div",3),m.Ub(16,"mat-form-field",4),m.Ub(17,"mat-label"),m.Ac(18,"Name"),m.Tb(),m.Pb(19,"input",5),m.zc(20,pt,3,2,"mat-error",6),m.Tb(),m.Ub(21,"mat-form-field",4),m.Ub(22,"mat-label"),m.Ac(23,"Email"),m.Tb(),m.Pb(24,"input",7),m.zc(25,ft,3,2,"mat-error",6),m.Tb(),m.Ub(26,"mat-form-field",4),m.Ub(27,"mat-label"),m.Ac(28,"Contact Number"),m.Tb(),m.Pb(29,"input",8),m.zc(30,Ut,3,2,"mat-error",6),m.Tb(),m.Ub(31,"mat-form-field",4),m.Ub(32,"mat-label"),m.Ac(33,"Payment Method"),m.Tb(),m.Ub(34,"mat-select",9),m.Ub(35,"mat-option",10),m.Ac(36,"Cash"),m.Tb(),m.Ub(37,"mat-option",11),m.Ac(38,"Credit Card"),m.Tb(),m.Ub(39,"mat-option",12),m.Ac(40,"Debit Card"),m.Tb(),m.Tb(),m.zc(41,At,3,2,"mat-error",6),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Pb(42,"hr"),m.Ub(43,"mat-card"),m.Ub(44,"b"),m.Ub(45,"span"),m.Ac(46,"Select Product :"),m.Tb(),m.Tb(),m.Ub(47,"form",1),m.Ub(48,"div",2),m.Ub(49,"div",3),m.Ub(50,"mat-form-field",4),m.Ub(51,"mat-label"),m.Ac(52,"Category"),m.Tb(),m.Ub(53,"mat-select",13),m.cc("selectionChange",function(t){return e.getProductsByCategory(t.value)}),m.zc(54,Ct,2,2,"mat-option",14),m.Tb(),m.Tb(),m.Ub(55,"mat-form-field",4),m.Ub(56,"mat-label"),m.Ac(57,"Product"),m.Tb(),m.Ub(58,"mat-select",15),m.cc("selectionChange",function(t){return e.getProductDetails(t.value)}),m.zc(59,St,2,2,"mat-option",14),m.Tb(),m.Tb(),m.Ub(60,"mat-form-field",4),m.Ub(61,"mat-label"),m.Ac(62,"Price"),m.Tb(),m.Pb(63,"input",16),m.zc(64,Ot,3,2,"mat-error",6),m.Tb(),m.Ub(65,"mat-form-field",4),m.Ub(66,"mat-label"),m.Ac(67,"Quantity"),m.Tb(),m.Ub(68,"input",17,18),m.cc("keyup",function(t){return e.setQuantity(t)}),m.Tb(),m.zc(70,Bt,3,2,"mat-error",6),m.Tb(),m.Ub(71,"mat-form-field",4),m.Ub(72,"mat-label"),m.Ac(73,"Total"),m.Tb(),m.Pb(74,"input",19),m.zc(75,zt,3,2,"mat-error",6),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(76,"div"),m.Ub(77,"button",20),m.cc("click",function(){return e.add()}),m.Ac(78," Add "),m.Tb(),m.Ub(79,"button",21),m.Ub(80,"mat-icon"),m.Ac(81,"monetization_on"),m.Tb(),m.Ac(82),m.Tb(),m.Tb(),m.Tb(),m.Pb(83,"hr"),m.Ub(84,"div",22),m.Ub(85,"table",23),m.Sb(86,24),m.zc(87,It,2,0,"th",25),m.zc(88,qt,2,1,"td",26),m.Rb(),m.Sb(89,27),m.zc(90,xt,2,0,"th",25),m.zc(91,Et,2,1,"td",26),m.Rb(),m.Sb(92,28),m.zc(93,Nt,2,0,"th",25),m.zc(94,_t,2,1,"td",26),m.Rb(),m.Sb(95,29),m.zc(96,$t,2,0,"th",25),m.zc(97,Ht,2,1,"td",26),m.Rb(),m.Sb(98,30),m.zc(99,jt,2,0,"th",25),m.zc(100,Lt,2,1,"td",26),m.Rb(),m.Sb(101,31),m.zc(102,Vt,2,0,"th",25),m.zc(103,Gt,4,0,"td",32),m.Rb(),m.zc(104,Jt,1,0,"tr",33),m.zc(105,Kt,1,0,"tr",34),m.Tb(),m.Tb()),2&t&&(m.Db(4),m.lc("disabled",e.validateSubmit()),m.Db(9),m.lc("formGroup",e.manageOrderForm),m.Db(7),m.lc("ngIf",e.manageOrderForm.controls.name.touched&&e.manageOrderForm.controls.name.invalid),m.Db(5),m.lc("ngIf",e.manageOrderForm.controls.email.touched&&e.manageOrderForm.controls.email.invalid),m.Db(5),m.lc("ngIf",e.manageOrderForm.controls.contactNumber.touched&&e.manageOrderForm.controls.contactNumber.invalid),m.Db(11),m.lc("ngIf",e.manageOrderForm.controls.paymentMethod.touched&&e.manageOrderForm.controls.paymentMethod.invalid),m.Db(6),m.lc("formGroup",e.manageOrderForm),m.Db(7),m.lc("ngForOf",e.categorys),m.Db(5),m.lc("ngForOf",e.products),m.Db(5),m.lc("ngIf",e.manageOrderForm.controls.price.touched&&e.manageOrderForm.controls.price.invalid),m.Db(6),m.lc("ngIf",e.manageOrderForm.controls.quantity.touched&&e.manageOrderForm.controls.quantity.invalid),m.Db(5),m.lc("ngIf",e.manageOrderForm.controls.total.touched&&e.manageOrderForm.controls.total.invalid),m.Db(2),m.lc("disabled",e.validateProductAdd()),m.Db(5),m.Cc(" Total Amount : ",e.totalAmount," "),m.Db(3),m.lc("dataSource",e.dataSource),m.Db(19),m.lc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),m.Db(1),m.lc("matRowDefColumns",e.displayedColumns))},directives:[S.a,v.a,T.a,c.r,c.m,c.g,f.a,f.b,U.c,U.g,y.b,c.c,c.l,c.e,c.p,n.k,q.a,x.m,n.j,d.j,d.c,d.e,d.b,d.g,d.i,U.b,d.d,d.a,w.a,d.f,d.h],styles:["mat-form-field[_ngcontent-%COMP%]{padding:5px}.float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:30px!important}table[_ngcontent-%COMP%]{width:100%}"]}),t})();function Xt(t,e){1&t&&(m.Ub(0,"th",17),m.Ac(1,"Name"),m.Tb())}function Yt(t,e){if(1&t&&(m.Ub(0,"td",18),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.name)}}function Wt(t,e){1&t&&(m.Ub(0,"th",17),m.Ac(1,"Category"),m.Tb())}function Zt(t,e){if(1&t&&(m.Ub(0,"td",18),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.category)}}function te(t,e){1&t&&(m.Ub(0,"th",17),m.Ac(1,"Price"),m.Tb())}function ee(t,e){if(1&t&&(m.Ub(0,"td",18),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.price)}}function ae(t,e){1&t&&(m.Ub(0,"th",17),m.Ac(1,"Quantity"),m.Tb())}function oe(t,e){if(1&t&&(m.Ub(0,"td",18),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.quantity)}}function re(t,e){1&t&&(m.Ub(0,"th",17),m.Ac(1,"Total"),m.Tb())}function ne(t,e){if(1&t&&(m.Ub(0,"td",18),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.total)}}function ie(t,e){1&t&&m.Pb(0,"tr",19)}function ce(t,e){1&t&&m.Pb(0,"tr",20)}let se=(()=>{class t{constructor(t,e){this.dialogData=t,this.dialogRef=e,this.displayedColumns=["name","category","price","quantity","total"]}ngOnInit(){this.data=this.dialogData.data,this.dataSource=JSON.parse(this.dialogData.data.productDetails),console.log(this.dialogData.data)}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(l.a),m.Ob(l.h))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-view-bill-products"]],decls:48,vars:8,consts:[["color","primary"],["fxLayout","row"],[1,"spacer"],["mat-icon-button","","mat-dialog-close","",1,"mat-dialog-close"],[1,"mat-typography"],["id","customers"],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","quantity"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Ub(0,"mat-toolbar",0),m.Ub(1,"mat-toolbar-row",1),m.Ub(2,"span"),m.Ac(3,"View Bill"),m.Tb(),m.Pb(4,"span",2),m.Ub(5,"button",3),m.Ub(6,"mat-icon"),m.Ac(7,"cancel"),m.Tb(),m.Tb(),m.Tb(),m.Tb(),m.Ub(8,"mat-dialog-content",4),m.Ub(9,"table",5),m.Ub(10,"tr"),m.Ub(11,"td"),m.Ub(12,"b"),m.Ac(13,"Name:"),m.Tb(),m.Ac(14),m.Tb(),m.Ub(15,"td"),m.Ub(16,"b"),m.Ac(17,"Email:"),m.Tb(),m.Ac(18),m.Tb(),m.Tb(),m.Ub(19,"tr"),m.Ub(20,"td"),m.Ub(21,"b"),m.Ac(22,"Contact Number:"),m.Tb(),m.Ac(23),m.Tb(),m.Ub(24,"td"),m.Ub(25,"b"),m.Ac(26,"Payment Method:"),m.Tb(),m.Ac(27),m.Tb(),m.Tb(),m.Tb(),m.Pb(28,"br"),m.Ub(29,"div",6),m.Ub(30,"table",7),m.Sb(31,8),m.zc(32,Xt,2,0,"th",9),m.zc(33,Yt,2,1,"td",10),m.Rb(),m.Sb(34,11),m.zc(35,Wt,2,0,"th",9),m.zc(36,Zt,2,1,"td",10),m.Rb(),m.Sb(37,12),m.zc(38,te,2,0,"th",9),m.zc(39,ee,2,1,"td",10),m.Rb(),m.Sb(40,13),m.zc(41,ae,2,0,"th",9),m.zc(42,oe,2,1,"td",10),m.Rb(),m.Sb(43,14),m.zc(44,re,2,0,"th",9),m.zc(45,ne,2,1,"td",10),m.Rb(),m.zc(46,ie,1,0,"tr",15),m.zc(47,ce,1,0,"tr",16),m.Tb(),m.Tb(),m.Tb()),2&t&&(m.Db(14),m.Cc(" ",null==e.data?null:e.data.name,""),m.Db(4),m.Cc(" ",null==e.data?null:e.data.email,""),m.Db(5),m.Cc(" ",null==e.data?null:e.data.contactNumber,""),m.Db(4),m.Cc(" ",null==e.data?null:e.data.paymentMethod,""),m.Db(3),m.lc("dataSource",e.dataSource),m.Db(16),m.lc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),m.Db(1),m.lc("matRowDefColumns",e.displayedColumns))},directives:[g.a,g.c,f.b,v.a,l.d,T.a,l.f,d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,d.f,d.h],styles:[".mat-toolbar[_ngcontent-%COMP%]{width:auto;margin:-24px -24px 10PX}mat-form-field[_ngcontent-%COMP%]{padding:5px}.float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}#customers[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif;border-collapse:collapse;width:100%}#customers[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], #customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}#customers[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-top:12px;padding-bottom:12px;text-align:left;background-color:#04aa6d;color:#fff}"]}),t})();function le(t,e){1&t&&(m.Ub(0,"th",16),m.Ac(1,"Name"),m.Tb())}function de(t,e){if(1&t&&(m.Ub(0,"td",17),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.name)}}function be(t,e){1&t&&(m.Ub(0,"th",16),m.Ac(1,"Email"),m.Tb())}function me(t,e){if(1&t&&(m.Ub(0,"td",17),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.email)}}function ue(t,e){1&t&&(m.Ub(0,"th",16),m.Ac(1,"Contact Number"),m.Tb())}function pe(t,e){if(1&t&&(m.Ub(0,"td",17),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.contactNumber)}}function he(t,e){1&t&&(m.Ub(0,"th",16),m.Ac(1,"Payment Method"),m.Tb())}function ge(t,e){if(1&t&&(m.Ub(0,"td",17),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.paymentMethod)}}function fe(t,e){1&t&&(m.Ub(0,"th",16),m.Ac(1,"Total"),m.Tb())}function ve(t,e){if(1&t&&(m.Ub(0,"td",17),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.total)}}function Te(t,e){1&t&&(m.Ub(0,"th",16),m.Ac(1,"Action"),m.Tb())}function Ue(t,e){if(1&t){const t=m.Vb();m.Ub(0,"td",18),m.Ub(1,"button",19),m.cc("click",function(){m.tc(t);const a=e.$implicit;return m.gc().handleViewAction(a)}),m.Ub(2,"mat-icon"),m.Ac(3,"visibility"),m.Tb(),m.Tb(),m.Ub(4,"button",20),m.cc("click",function(){m.tc(t);const a=e.$implicit;return m.gc().downloadReportAction(a)}),m.Ub(5,"mat-icon"),m.Ac(6,"summarize"),m.Tb(),m.Tb(),m.Ub(7,"button",21),m.cc("click",function(){m.tc(t);const a=e.$implicit;return m.gc().handleDeleteAction(a)}),m.Ub(8,"mat-icon"),m.Ac(9,"delete"),m.Tb(),m.Tb(),m.Tb()}}function ye(t,e){1&t&&m.Pb(0,"tr",22)}function De(t,e){1&t&&m.Pb(0,"tr",23)}let Ae=(()=>{class t{constructor(t,e,a,o){this.billService=t,this.dialog=e,this.snackBarService=a,this.router=o,this.displayedColumns=["name","email","contactNumber","paymentMethod","total","view"]}ngOnInit(){this.tableData()}tableData(){this.billService.getBills().subscribe(t=>{this.dataSource=new d.k(t)},t=>{var e,a,o;console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(o=t.error)||void 0===o?void 0:o.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}handleViewAction(t){const e=new l.e;e.data={data:t},e.width="100%";const a=this.dialog.open(se,e);this.router.events.subscribe(()=>{a.close()})}handleDeleteAction(t){const e=new l.e;e.data={message:"delete "+t.name+" bill",confirmation:!0};const a=this.dialog.open(Q.a,e);a.componentInstance.onEmitStatusChange.subscribe(e=>{this.deleteBill(t.id),a.close()})}deleteBill(t){this.billService.delete(t).subscribe(t=>{this.tableData(),this.responseMessage=null==t?void 0:t.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a,o;console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(o=t.error)||void 0===o?void 0:o.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}downloadReportAction(t){var e={name:t.name,email:t.email,uuid:t.uuid,contactNumber:t.contactNumber,paymentMethod:t.paymentMethod,totalAmount:t.total.toString(),productDetails:t.productDetail};this.downloadFile(t.uuid,e)}downloadFile(t,e){this.billService.getPdf(e).subscribe(e=>{Object(dt.saveAs)(e,t+".pdf")})}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(bt),m.Ob(l.b),m.Ob(h.a),m.Ob(o.c))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-view-bill"]],decls:34,vars:4,consts:[["appearance","standard"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","paymentMethod"],["matColumnDef","total"],["matColumnDef","view"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["mat-icon-button","","color","primary","matTooltip","View",3,"click"],["mat-icon-button","","color","primary","matTooltip","Download Bill",3,"click"],["mat-icon-button","","color","primary","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Ub(0,"mat-card"),m.Ub(1,"b"),m.Ub(2,"span"),m.Ac(3,"View Bill"),m.Tb(),m.Tb(),m.Tb(),m.Pb(4,"hr"),m.Ub(5,"mat-card"),m.Ub(6,"mat-form-field",0),m.Ub(7,"mat-label"),m.Ac(8,"Filter"),m.Tb(),m.Ub(9,"input",1,2),m.cc("keyup",function(t){return e.applyFilter(t)}),m.Tb(),m.Tb(),m.Tb(),m.Pb(11,"hr"),m.Ub(12,"div",3),m.Ub(13,"table",4),m.Sb(14,5),m.zc(15,le,2,0,"th",6),m.zc(16,de,2,1,"td",7),m.Rb(),m.Sb(17,8),m.zc(18,be,2,0,"th",6),m.zc(19,me,2,1,"td",7),m.Rb(),m.Sb(20,9),m.zc(21,ue,2,0,"th",6),m.zc(22,pe,2,1,"td",7),m.Rb(),m.Sb(23,10),m.zc(24,he,2,0,"th",6),m.zc(25,ge,2,1,"td",7),m.Rb(),m.Sb(26,11),m.zc(27,fe,2,0,"th",6),m.zc(28,ve,2,1,"td",7),m.Rb(),m.Sb(29,12),m.zc(30,Te,2,0,"th",6),m.zc(31,Ue,10,0,"td",13),m.Rb(),m.zc(32,ye,1,0,"tr",14),m.zc(33,De,1,0,"tr",15),m.Tb(),m.Tb()),2&t&&(m.Db(13),m.lc("dataSource",e.dataSource),m.Db(19),m.lc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),m.Db(1),m.lc("matRowDefColumns",e.displayedColumns))},directives:[S.a,U.c,U.g,y.b,d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,v.a,w.a,T.a,d.f,d.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),t})();var Ce=a("qfBg");function Se(t,e){1&t&&(m.Ub(0,"th",14),m.Ac(1,"Name"),m.Tb())}function we(t,e){if(1&t&&(m.Ub(0,"td",15),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.name)}}function ke(t,e){1&t&&(m.Ub(0,"th",14),m.Ac(1,"Email"),m.Tb())}function Oe(t,e){if(1&t&&(m.Ub(0,"td",15),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.email)}}function Re(t,e){1&t&&(m.Ub(0,"th",14),m.Ac(1,"Contact Number"),m.Tb())}function Fe(t,e){if(1&t&&(m.Ub(0,"td",15),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.contactNumber)}}function Be(t,e){1&t&&(m.Ub(0,"th",14),m.Ac(1,"Action"),m.Tb())}function Me(t,e){if(1&t){const t=m.Vb();m.Ub(0,"td",16),m.Ub(1,"mat-slide-toggle",17),m.cc("change",function(a){m.tc(t);const o=e.$implicit;return m.gc().onChange(a.checked,o.id)}),m.Tb(),m.Tb()}if(2&t){const t=e.$implicit;m.Db(1),m.lc("checked",t.status)}}function Pe(t,e){1&t&&m.Pb(0,"tr",18)}function ze(t,e){1&t&&m.Pb(0,"tr",19)}function Ie(t,e){1&t&&m.Pb(0,"th",9)}function qe(t,e){if(1&t&&(m.Ub(0,"td",10),m.Pb(1,"img",11),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.lc("src",t.imagePath,m.uc)}}function xe(t,e){1&t&&(m.Ub(0,"th",9),m.Ac(1,"Name"),m.Tb())}function Ee(t,e){if(1&t&&(m.Ub(0,"td",10),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.name)}}function Ne(t,e){1&t&&(m.Ub(0,"th",9),m.Ac(1,"Source"),m.Tb())}function _e(t,e){if(1&t&&(m.Ub(0,"td",10),m.Ub(1,"a",12),m.Ac(2),m.Tb(),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.mc("href",t.url,m.uc),m.Db(1),m.Bc(t.url)}}function $e(t,e){1&t&&m.Pb(0,"tr",13)}function He(t,e){1&t&&m.Pb(0,"tr",14)}function je(t,e){1&t&&m.Pb(0,"th",9)}function Le(t,e){if(1&t&&(m.Ub(0,"td",10),m.Pb(1,"img",11),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.lc("src",t.imagePath,m.uc)}}function Ve(t,e){1&t&&(m.Ub(0,"th",9),m.Ac(1,"Name"),m.Tb())}function Ge(t,e){if(1&t&&(m.Ub(0,"td",10),m.Ac(1),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.Bc(t.name)}}function Je(t,e){1&t&&(m.Ub(0,"th",9),m.Ac(1,"Source"),m.Tb())}function Ke(t,e){if(1&t&&(m.Ub(0,"td",10),m.Ub(1,"a",12),m.Ac(2),m.Tb(),m.Tb()),2&t){const t=e.$implicit;m.Db(1),m.mc("href",t.url,m.uc),m.Db(1),m.Bc(t.url)}}function Qe(t,e){1&t&&m.Pb(0,"tr",13)}function Xe(t,e){1&t&&m.Pb(0,"tr",14)}const Ye=[{path:"category",component:P,canActivate:[z.a],data:{expectedRole:["admin"]}},{path:"product",component:lt,canActivate:[z.a],data:{expectedRole:["admin"]}},{path:"order",component:Qt,canActivate:[z.a],data:{expectedRole:["admin","user"]}},{path:"bill",component:Ae,canActivate:[z.a],data:{expectedRole:["admin","user"]}},{path:"user",component:(()=>{class t{constructor(t,e){this.userService=t,this.snackBarService=e,this.displayedColumn=["name","email","contactNumber","status"]}ngOnInit(){this.tableData()}tableData(){this.userService.getUsers().subscribe(t=>{this.dataSource=new d.k(t)},t=>{var e,a,o;console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(o=t.error)||void 0===o?void 0:o.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}onChange(t,e){var a={status:t.toString(),id:e};this.userService.update(a).subscribe(t=>{this.responseMessage=null==t?void 0:t.message,this.snackBarService.openSnackBar(this.responseMessage,"success")},t=>{var e,a;console.log(t),this.responseMessage=(null===(e=t.error)||void 0===e?void 0:e.message)?null===(a=t.error)||void 0===a?void 0:a.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(Ce.a),m.Ob(h.a))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-manage-user"]],decls:28,vars:4,consts:[["appearance","standard"],["matInput","",3,"keyup"],["input",""],[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","contactNumber"],["matColumnDef","status"],["mat-cell","","class","action-link",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",1,"action-link"],["matTooltip","Activate or Deactivate User",3,"checked","change"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Ub(0,"mat-card"),m.Ub(1,"b"),m.Ub(2,"span"),m.Ac(3,"Manage User"),m.Tb(),m.Tb(),m.Tb(),m.Pb(4,"hr"),m.Ub(5,"mat-card"),m.Ub(6,"mat-form-field",0),m.Ub(7,"mat-label"),m.Ac(8,"Filter"),m.Tb(),m.Ub(9,"input",1,2),m.cc("keyup",function(t){return e.applyFilter(t)}),m.Tb(),m.Tb(),m.Tb(),m.Pb(11,"hr"),m.Ub(12,"div",3),m.Ub(13,"table",4),m.Sb(14,5),m.zc(15,Se,2,0,"th",6),m.zc(16,we,2,1,"td",7),m.Rb(),m.Sb(17,8),m.zc(18,ke,2,0,"th",6),m.zc(19,Oe,2,1,"td",7),m.Rb(),m.Sb(20,9),m.zc(21,Re,2,0,"th",6),m.zc(22,Fe,2,1,"td",7),m.Rb(),m.Sb(23,10),m.zc(24,Be,2,0,"th",6),m.zc(25,Me,2,1,"td",11),m.Rb(),m.zc(26,Pe,1,0,"tr",12),m.zc(27,ze,1,0,"tr",13),m.Tb(),m.Tb()),2&t&&(m.Db(13),m.lc("dataSource",e.dataSource),m.Db(13),m.lc("matHeaderRowDef",e.displayedColumn)("matHeaderRowDefSticky",!0),m.Db(1),m.lc("matRowDefColumns",e.displayedColumn))},directives:[S.a,U.c,U.g,y.b,d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,X.a,w.a,d.f,d.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}"]}),t})(),canActivate:[z.a],data:{expectedRole:["admin"]}},{path:"recipe",component:(()=>{class t{constructor(t,e,a,o,r){this.formBuilder=t,this.router=e,this.dialog=a,this.snackBarService=o,this.productService=r,this.recipeForm=c.f,this.recipeFormCuisine=c.f}ngOnInit(){this.recipeForm=this.createForm(),this.recipeFormCuisine=this.createFormCuisine()}tableData(){this.productService.getRecipe(this.name).subscribe(t=>{this.dataSource=new d.k(t)},t=>{var e,a,o;console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(o=t.error)||void 0===o?void 0:o.message:b.a.genericError,this.snackBarService.openSnackBar(this.responseMessage,b.a.error)})}createForm(){return this.formBuilder.group({name:this.formBuilder.control("",[c.q.required])})}createFormCuisine(){return this.formBuilder.group({cuisine:this.formBuilder.control("",[c.q.required])})}submitForm(){var t;const e=null===(t=this.recipeForm.get("name"))||void 0===t?void 0:t.value;this.router.navigate(["/cafe/recipe-result"],{queryParams:{query:e}})}submitFormCuisine(){var t;const e=null===(t=this.recipeFormCuisine.get("cuisine"))||void 0===t?void 0:t.value;console.log("cuisin gotten drop ddl is: "+e),this.router.navigate(["/cafe/recipe-result-cuisine"],{queryParams:{cuisine:e}})}add(){this.dataSource.push({name:this.recipeForm.value.name}),this.dataSource=[...this.dataSource],this.snackBarService.openSnackBar(b.a.productAdded,"success")}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(c.d),m.Ob(o.c),m.Ob(l.b),m.Ob(h.a),m.Ob(I))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-recipe"]],decls:70,vars:4,consts:[[3,"formGroup","ngSubmit"],["appearance","fill"],["matInput","","formControlName","name"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],["formControlName","cuisine"],["value","African"],["value","American"],["value","British"],["value","Cajun"],["value","Eastern European"],["value","European"],["value","French"],["value","German"],["value","Greek"],["value","Indian"],["value","Irish"],["value","Italian"],["value","Japanese"],["value","Jewish"],["value","Korean"],["value","Latin American"],["value","Mediterranean"],["value","Mexican"],["value","Middle Eastern"],["value","Nordic"],["value","Southern"],["value","Spanish"],["value","Thai"],["value","Vietnamese"]],template:function(t,e){1&t&&(m.Ub(0,"mat-card"),m.Ub(1,"b"),m.Ub(2,"span"),m.Ac(3,"Find Recipes"),m.Tb(),m.Tb(),m.Tb(),m.Pb(4,"hr"),m.Ub(5,"mat-card"),m.Ub(6,"form",0),m.cc("ngSubmit",function(){return e.submitForm()}),m.Ub(7,"mat-form-field",1),m.Ub(8,"mat-label"),m.Ac(9,"Search By Name"),m.Tb(),m.Pb(10,"input",2),m.Tb(),m.Ub(11,"button",3),m.Ac(12,"Search"),m.Tb(),m.Tb(),m.Tb(),m.Ub(13,"mat-card"),m.Ub(14,"form",0),m.cc("ngSubmit",function(){return e.submitFormCuisine()}),m.Ub(15,"mat-form-field",1),m.Ub(16,"mat-label"),m.Ac(17,"Search By Cuisine"),m.Tb(),m.Ub(18,"mat-select",4),m.Ub(19,"mat-option",5),m.Ac(20,"African"),m.Tb(),m.Ub(21,"mat-option",6),m.Ac(22,"American"),m.Tb(),m.Ub(23,"mat-option",7),m.Ac(24,"British"),m.Tb(),m.Ub(25,"mat-option",8),m.Ac(26,"Cajun"),m.Tb(),m.Ub(27,"mat-option",9),m.Ac(28,"Eastern European"),m.Tb(),m.Ub(29,"mat-option",10),m.Ac(30,"European"),m.Tb(),m.Ub(31,"mat-option",11),m.Ac(32,"French"),m.Tb(),m.Ub(33,"mat-option",12),m.Ac(34,"German"),m.Tb(),m.Ub(35,"mat-option",13),m.Ac(36,"Greek"),m.Tb(),m.Ub(37,"mat-option",14),m.Ac(38,"Indian"),m.Tb(),m.Ub(39,"mat-option",15),m.Ac(40,"Irish"),m.Tb(),m.Ub(41,"mat-option",16),m.Ac(42,"Italian"),m.Tb(),m.Ub(43,"mat-option",17),m.Ac(44,"Japanese"),m.Tb(),m.Ub(45,"mat-option",18),m.Ac(46,"Jewish"),m.Tb(),m.Ub(47,"mat-option",19),m.Ac(48,"Korean"),m.Tb(),m.Ub(49,"mat-option",20),m.Ac(50,"Latin American"),m.Tb(),m.Ub(51,"mat-option",21),m.Ac(52,"Mediterranean"),m.Tb(),m.Ub(53,"mat-option",22),m.Ac(54,"Mexican"),m.Tb(),m.Ub(55,"mat-option",23),m.Ac(56,"Middle Eastern"),m.Tb(),m.Ub(57,"mat-option",24),m.Ac(58,"Nordic"),m.Tb(),m.Ub(59,"mat-option",25),m.Ac(60,"Southern"),m.Tb(),m.Ub(61,"mat-option",26),m.Ac(62,"Spanish"),m.Tb(),m.Ub(63,"mat-option",27),m.Ac(64,"Thai"),m.Tb(),m.Ub(65,"mat-option",28),m.Ac(66,"Vietnamese"),m.Tb(),m.Tb(),m.Tb(),m.Ub(67,"button",3),m.Ac(68,"Search"),m.Tb(),m.Tb(),m.Tb(),m.Pb(69,"hr")),2&t&&(m.Db(6),m.lc("formGroup",e.recipeForm),m.Db(5),m.lc("disabled",e.recipeForm.invalid),m.Db(3),m.lc("formGroup",e.recipeFormCuisine),m.Db(53),m.lc("disabled",e.recipeFormCuisine.invalid))},directives:[S.a,c.r,c.m,c.g,U.c,U.g,y.b,c.c,c.l,c.e,v.a,q.a,x.m],styles:["mat-card[_ngcontent-%COMP%]{padding:20px}"]}),t})(),canActivate:[z.a],data:{expectedRole:["admin"]}},{path:"recipe-result",component:(()=>{class t{constructor(t,e,a,o){this.activatedRoute=t,this.productSvc=e,this.dialog=a,this.snackbarService=o,this.displayedColumns=["imagePath","name","url"],this.recipes=[]}ngOnInit(){this.routeSub$=this.activatedRoute.queryParams.subscribe(t=>{this.name=t.query}),this.tableData()}ngOnDestroy(){this.routeSub$.unsubscribe(),this.tableData(),this.getRecipe()}tableData(){this.productSvc.getRecipe(this.name).subscribe(t=>{console.log(t),this.dataSource=new d.k(t),console.log(this.dataSource)},t=>{var e,a,o;console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(o=t.error)||void 0===o?void 0:o.message:b.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,b.a.error)})}getRecipe(){this.productSvc.getRecipe(this.name).subscribe(t=>{this.recipes=t},t=>{var e,a,o;console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(o=t.error)||void 0===o?void 0:o.message:b.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,b.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(o.a),m.Ob(I),m.Ob(l.b),m.Ob(h.a))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-recipe-result"]],decls:15,vars:5,consts:[[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","imagePath"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","url"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-card-image","",3,"src"],[3,"href"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Ub(0,"h3"),m.Ac(1),m.Tb(),m.Ub(2,"div",0),m.Ub(3,"table",1),m.Sb(4,2),m.zc(5,Ie,1,0,"th",3),m.zc(6,qe,2,1,"td",4),m.Rb(),m.Sb(7,5),m.zc(8,xe,2,0,"th",3),m.zc(9,Ee,2,1,"td",4),m.Rb(),m.Sb(10,6),m.zc(11,Ne,2,0,"th",3),m.zc(12,_e,3,2,"td",4),m.Rb(),m.zc(13,$e,1,0,"tr",7),m.zc(14,He,1,0,"tr",8),m.Tb(),m.Tb()),2&t&&(m.Db(1),m.Cc("Showing results for: ",e.name,""),m.Db(2),m.lc("dataSource",e.dataSource),m.Db(10),m.lc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),m.Db(1),m.lc("matRowDefColumns",e.displayedColumns))},directives:[d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,S.b,d.f,d.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}mat-card-image[_ngcontent-%COMP%]{width:30%}"]}),t})(),canActivate:[z.a],data:{expectedRole:["admin"]}},{path:"recipe-result-cuisine",component:(()=>{class t{constructor(t,e,a,o){this.activatedRoute=t,this.productSvc=e,this.dialog=a,this.snackbarService=o,this.displayedColumns=["imagePath","name","url"],this.recipes=[]}ngOnInit(){this.routeSub$=this.activatedRoute.queryParams.subscribe(t=>{this.cuisine=t.cuisine}),console.log("cuisine loaded is: "+this.cuisine),this.tableData()}ngOnDestroy(){this.routeSub$.unsubscribe(),this.tableData(),this.getRecipeByCuisine()}tableData(){this.productSvc.getRecipeByCuisine(this.cuisine).subscribe(t=>{console.log(t),this.dataSource=new d.k(t),console.log(this.dataSource)},t=>{var e,a,o;console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(o=t.error)||void 0===o?void 0:o.message:b.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,b.a.error)})}getRecipeByCuisine(){this.productSvc.getRecipeByCuisine(this.cuisine).subscribe(t=>{this.recipes=t},t=>{var e,a,o;console.log(null===(e=t.error)||void 0===e?void 0:e.message),this.responseMessage=(null===(a=t.error)||void 0===a?void 0:a.message)?null===(o=t.error)||void 0===o?void 0:o.message:b.a.genericError,this.snackbarService.openSnackBar(this.responseMessage,b.a.error)})}}return t.\u0275fac=function(e){return new(e||t)(m.Ob(o.a),m.Ob(I),m.Ob(l.b),m.Ob(h.a))},t.\u0275cmp=m.Ib({type:t,selectors:[["app-recipe-result-cuisine"]],decls:15,vars:5,consts:[[1,"responsive_table"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","imagePath"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","url"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-card-image","",3,"src"],[3,"href"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m.Ub(0,"h3"),m.Ac(1),m.Tb(),m.Ub(2,"div",0),m.Ub(3,"table",1),m.Sb(4,2),m.zc(5,je,1,0,"th",3),m.zc(6,Le,2,1,"td",4),m.Rb(),m.Sb(7,5),m.zc(8,Ve,2,0,"th",3),m.zc(9,Ge,2,1,"td",4),m.Rb(),m.Sb(10,6),m.zc(11,Je,2,0,"th",3),m.zc(12,Ke,3,2,"td",4),m.Rb(),m.zc(13,Qe,1,0,"tr",7),m.zc(14,Xe,1,0,"tr",8),m.Tb(),m.Tb()),2&t&&(m.Db(1),m.Cc("Showing results for: ",e.cuisine,""),m.Db(2),m.lc("dataSource",e.dataSource),m.Db(10),m.lc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),m.Db(1),m.lc("matRowDefColumns",e.displayedColumns))},directives:[d.j,d.c,d.e,d.b,d.g,d.i,d.d,d.a,S.b,d.f,d.h],styles:[".float-right[_ngcontent-%COMP%]{float:right}mat-card[_ngcontent-%COMP%]{padding:20px}table[_ngcontent-%COMP%]{width:100%}mat-card-image[_ngcontent-%COMP%]{width:30%}"]}),t})(),canActivate:[z.a],data:{expectedRole:["admin"]}}];var We=a("qAUw");let Ze=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.Mb({type:t}),t.\u0275inj=m.Lb({providers:[],imports:[[n.c,o.g.forChild(Ye),We.a,r.c,c.h,c.o,s.a,i.r]]}),t})()},Iab2:function(t,e,a){var o,r;void 0===(r="function"==typeof(o=function(){"use strict";function e(t,e,a){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){i(o.response,e,a)},o.onerror=function(){console.error("could not download file")},o.send()}function a(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var a=document.createEvent("MouseEvents");a.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(a)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,n=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!n?function(t,n,i){var c=r.URL||r.webkitURL,s=document.createElement("a");s.download=n=n||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?o(s):a(s.href)?e(t,n,i):o(s,s.target="_blank")):(s.href=c.createObjectURL(t),setTimeout(function(){c.revokeObjectURL(s.href)},4e4),setTimeout(function(){o(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,n){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,n),r);else if(a(t))e(t,r,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){o(i)})}}:function(t,a,o,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof t)return e(t,a,o);var c="application/octet-stream"===t.type,s=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||c&&s||n)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var t=d.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=t:location=t,i=null},d.readAsDataURL(t)}else{var b=r.URL||r.webkitURL,m=b.createObjectURL(t);i?i.location=m:location.href=m,i=null,setTimeout(function(){b.revokeObjectURL(m)},4e4)}});r.saveAs=i.saveAs=i,t.exports=i})?o.apply(e,[]):o)||(t.exports=r)}}]);